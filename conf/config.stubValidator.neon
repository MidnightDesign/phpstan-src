parameters:
	checkThisOnly: false
	checkClassCaseSensitivity: true
	checkMissingTypehints: true
	checkMissingCallableSignature: false
	__validate: false

services:
	-
		class: PHPStan\PhpDoc\StubSourceLocatorFactory
		arguments:
			php8Parser: @php8PhpParser

	# overrides service from parsers.neon
	defaultAnalysisParser!:
		factory: @stubParser

	# overrides service from services.neon
	nodeScopeResolverReflector:
		factory: @stubReflector

	# overrides service from services.neon
	reflectionProvider:
		factory: @stubBetterReflectionProvider
		autowired:
			- PHPStan\Reflection\ReflectionProvider

	# overrides service from parsers.neon
	currentPhpVersionLexer:
		factory: @php8Lexer
		autowired: false

	# overrides service from parsers.neon
	currentPhpVersionPhpParser:
		factory: @php8PhpParser
		autowired: false

	stubBetterReflectionProvider:
		class: PHPStan\Reflection\BetterReflection\BetterReflectionProvider
		arguments:
			reflector: @stubReflector
			universalObjectCratesClasses: %universalObjectCratesClasses%
		autowired: false

	stubReflector:
		class: PHPStan\BetterReflection\Reflector\DefaultReflector
		arguments:
			sourceLocator: @stubSourceLocator
		autowired: false

	stubSourceLocator:
		class: PHPStan\BetterReflection\SourceLocator\Type\SourceLocator
		factory: @PHPStan\PhpDoc\StubSourceLocatorFactory::create()
		autowired: false
